{"ast":null,"code":"var _jsxFileName = \"/Users/omoruyiohuoba/Desktop/APPS/WEB DEVELOPMENT/BLOOMBANK-BANK-LOGIN-PORTAL/client/src/components/App.jsx\";\nimport React, { useEffect } from \"react\";\nimport { Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"../utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"../actions/authActions\";\nimport { history } from \"./helper/history\";\nimport PrivateRoute from \"./Private-route/PrivateRoute\";\nimport Home from \"./Home\";\nimport Register from \"./Auth/Register\";\nimport Login from \"./Auth/Login\";\nimport Dashboard from \"./Dashboard/Dashboard\";\nimport LogoHeader from \"./Layout/LogoHeader\";\nimport Footer from \"./Layout/Footer\";\n\nif (localStorage.jwtToken) {\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  const decoded = jwt_decode(token);\n  store.dispatch(logoutUser);\n  const currentTime = Date.now() / 1000;\n\n  if (decoded.exp < currentTime) {\n    store.dispatch(logoutUser());\n    window.location.href = \"./login\";\n  }\n}\n\nconst App = () => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Router, {\n    history: history,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(LogoHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/home\",\n    component: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/register\",\n    component: Register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    component: Login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/dashboard\",\n    component: Dashboard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/omoruyiohuoba/Desktop/APPS/WEB DEVELOPMENT/BLOOMBANK-BANK-LOGIN-PORTAL/client/src/components/App.jsx"],"names":["React","useEffect","Router","Route","Switch","Redirect","jwt_decode","setAuthToken","setCurrentUser","logoutUser","history","PrivateRoute","Home","Register","Login","Dashboard","LogoHeader","Footer","localStorage","jwtToken","token","decoded","store","dispatch","currentTime","Date","now","exp","window","location","href","App"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,MAAR,EAAeC,KAAf,EAAsBC,MAAtB,EAA8BC,QAA9B,QAA6C,kBAA7C;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,SAAQC,cAAR,EAAwBC,UAAxB,QAAyC,wBAAzC;AAGA,SAAQC,OAAR,QAAsB,kBAAtB;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,KAAP,MAAkB,cAAlB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;;AAEA,IAAGC,YAAY,CAACC,QAAhB,EAAyB;AACrB,QAAMC,KAAK,GAAGF,YAAY,CAACC,QAA3B;AACAZ,EAAAA,YAAY,CAACa,KAAD,CAAZ;AACA,QAAMC,OAAO,GAAGf,UAAU,CAACc,KAAD,CAA1B;AACAE,EAAAA,KAAK,CAACC,QAAN,CAAed,UAAf;AAEA,QAAMe,WAAW,GAAEC,IAAI,CAACC,GAAL,KAAa,IAAhC;;AACA,MAAIL,OAAO,CAACM,GAAR,GAAcH,WAAlB,EAA8B;AAC1BF,IAAAA,KAAK,CAACC,QAAN,CAAed,UAAU,EAAzB;AAEAmB,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,SAAvB;AACH;AAGJ;;AAGD,MAAMC,GAAG,GAAG,MAAM;AAEd,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAErB,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAGI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAG,GAApB;AAAwB,IAAA,SAAS,EAAIE,IAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAG,OAAd;AAAsB,IAAA,SAAS,EAAIA,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAG,WAAd;AAA0B,IAAA,SAAS,EAAIC,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,eAII,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAG,QAAd;AAAuB,IAAA,SAAS,EAAIC,KAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,eAKI,oBAAC,YAAD;AAAc,IAAA,KAAK,MAAnB;AAAoB,IAAA,IAAI,EAAC,YAAzB;AAAsC,IAAA,SAAS,EAAEC,SAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CAHJ,CADJ,eAYI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZJ,CADJ;AAiBH,CAnBD;;AAqBA,eAAegB,GAAf","sourcesContent":["import React, {useEffect} from \"react\";\nimport {Router,Route, Switch, Redirect} from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"../utils/setAuthToken\";\nimport {setCurrentUser, logoutUser} from \"../actions/authActions\";\n\n\nimport {history} from \"./helper/history\";\nimport PrivateRoute from \"./Private-route/PrivateRoute\";\nimport Home from \"./Home\";\nimport Register from \"./Auth/Register\";\nimport Login from \"./Auth/Login\";\nimport Dashboard from \"./Dashboard/Dashboard\";\nimport LogoHeader from \"./Layout/LogoHeader\";\nimport Footer from \"./Layout/Footer\";\n\nif(localStorage.jwtToken){\n    const token = localStorage.jwtToken;\n    setAuthToken(token);\n    const decoded = jwt_decode(token);\n    store.dispatch(logoutUser);\n\n    const currentTime= Date.now() / 1000;\n    if (decoded.exp < currentTime){\n        store.dispatch(logoutUser());\n\n        window.location.href = \"./login\";\n    }\n\n\n}\n\n\nconst App = () => {\n\n    return (\n        <div>\n            <Router history={history}>     \n                <LogoHeader />\n            \n                <Switch>\n                    <Route exact path = \"/\" component = {Home}/>\n                    <Route path = \"/home\" component = {Home}/>\n                    <Route path = \"/register\" component = {Register}/>\n                    <Route path = \"/login\" component = {Login}/>\n                    <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n            </Switch>\n            </Router>\n            <Footer />\n        </div>            \n\n    )\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}